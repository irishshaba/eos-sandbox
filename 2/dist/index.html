<html>
    <head>
        <title>Block.one dev test - Problem 2</title>
    </head>
    <body>
        <form>
            <input type="button" value="Do the Thing" onClick="fetch()" />
        </form>
        <textarea id="results"></textarea>
    </body>

    <script>
        function fetch() {
            // 1. create a new XMLHttpRequest object -- an object like any other!
            var myRequest = new XMLHttpRequest();
            // 2. open the request and pass the HTTP method name and the resource as parameters
            myRequest.open('GET', 'http://localhost:8081', true);
            // 3. write a function that runs anytime the state of the AJAX request changes
            myRequest.onreadystatechange = function () { 
                // 4. check if the request has a readyState of 4, which indicates the server has responded (complete)
                if (myRequest.readyState === 4) {
                    // 5. insert the text sent by the server into the HTML of the 'ajax-content'
                    document.getElementById('results').value = myRequest.responseText
                }
            };       
            
            myRequest.send()
            
        }
    </script>
</html>